\usepackage{xeCJK,xeCJKfntef}
\usepackage{calc,fontspec,listings,tcolorbox,paralist,enumitem,makecmds}
\usepackage{graphicx,eso-pic,datetime2,hyperref,indentfirst}

% ============================================
% Adjust fonts here...
% ============================================
\setmainfont{TeX Gyre Termes}
\setromanfont{TeX Gyre Termes}
\setsansfont{TeX Gyre Bonum}
\setmonofont{Latin Modern Mono}

\setCJKmainfont{Noto Serif CJK SC}
\setCJKromanfont{Noto Serif CJK SC}
\setCJKsansfont{Noto Sans CJK SC}
\setCJKmonofont{Noto Sans CJK SC}


% ============================================
% Style settings
% ============================================
\frenchspacing
\linespread{1.11}
\setlength{\parindent}{2em}
\setlength{\parskip}{4pt}
\setdefaultleftmargin{4em}{2em}{1em}{1em}{1em}{1em}

% ============================================
% Fix the "too deeply nested" error
% ============================================
\setlistdepth{9}
\setlist[itemize,1]{label=$\bullet$}
\setlist[itemize,2]{label=$\bullet$}
\setlist[itemize,3]{label=$\bullet$}
\setlist[itemize,4]{label=$\bullet$}
\setlist[itemize,5]{label=$\bullet$}
\setlist[itemize,6]{label=$\bullet$}
\setlist[itemize,7]{label=$\bullet$}
\setlist[itemize,8]{label=$\bullet$}
\setlist[itemize,9]{label=$\bullet$}
\renewlist{itemize}{itemize}{9}

\setlist[enumerate,1]{label=$\arabic*.$}
\setlist[enumerate,2]{label=$\alph*.$}
\setlist[enumerate,3]{label=$\roman*.$}
\setlist[enumerate,4]{label=$\arabic*.$}
\setlist[enumerate,5]{label=$\alpha*$}
\setlist[enumerate,6]{label=$\roman*.$}
\setlist[enumerate,7]{label=$\arabic*.$}
\setlist[enumerate,8]{label=$\alph*.$}
\setlist[enumerate,9]{label=$\roman*.$}
\renewlist{enumerate}{enumerate}{9}


% ============================================
% Overwrite some default commands
% ============================================
\apptocmd{\tableofcontents}{\vskip 30pt plus 15pt}{}{}

\let\oldstdhref\href
\renewcommand{\href}[2]{\oldstdhref{#1}{{\CJKunderline{#2}}}}












% ============================================
% <pre> and <code>
% ============================================

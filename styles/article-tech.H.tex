\usepackage{xeCJK,xeCJKfntef}
\usepackage{calc,fontspec,listings,tcolorbox,paralist,enumitem,makecmds}
\usepackage{graphicx,eso-pic,datetime2,hyperref}

% ============================================
% Adjust fonts here...
% ============================================
\setmainfont{TeX Gyre Heros}
\setromanfont{TeX Gyre Heros}
\setsansfont{TeX Gyre Schola}
\setmonofont{JetBrains Mono NL}

\setCJKmainfont{Noto Sans CJK SC}
\setCJKromanfont{Noto Sans CJK SC}
\setCJKsansfont{Noto Serif CJK SC}
\setCJKmonofont{Noto Sans CJK SC}


% ============================================
% Style settings
% ============================================
\frenchspacing
\linespread{1.21}
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt}

% ============================================
% Fix the "too deeply nested" error
% ============================================
\setlistdepth{9}
\setlist[itemize,1]{label=$\bullet$}
\setlist[itemize,2]{label=$\bullet$}
\setlist[itemize,3]{label=$\bullet$}
\setlist[itemize,4]{label=$\bullet$}
\setlist[itemize,5]{label=$\bullet$}
\setlist[itemize,6]{label=$\bullet$}
\setlist[itemize,7]{label=$\bullet$}
\setlist[itemize,8]{label=$\bullet$}
\setlist[itemize,9]{label=$\bullet$}
\renewlist{itemize}{itemize}{9}

\setlist[enumerate,1]{label=$\arabic*.$}
\setlist[enumerate,2]{label=$\alph*.$}
\setlist[enumerate,3]{label=$\roman*.$}
\setlist[enumerate,4]{label=$\arabic*.$}
\setlist[enumerate,5]{label=$\alpha*$}
\setlist[enumerate,6]{label=$\roman*.$}
\setlist[enumerate,7]{label=$\arabic*.$}
\setlist[enumerate,8]{label=$\alph*.$}
\setlist[enumerate,9]{label=$\roman*.$}
\renewlist{enumerate}{enumerate}{9}


% ============================================
% Overwrite some default commands
% ============================================
% \makeatletter
% \renewcommand{\maketitle}[0]{
% }
% \makeatother

\let\oldstdhref\href
\renewcommand{\href}[2]{\oldstdhref{#1}{\textcolor{blue!80!green!90!black}{\CJKunderline{#2}}}}

% \let\oldstdtableofcontents\tableofcontents
% \renewcommand{\tableofcontents}[0]{\oldstdtableofcontents\vfill\clearpage}
\apptocmd{\tableofcontents}{\vskip 30pt plus 15pt}{}{}













% ============================================
% <pre> and <code>
% ============================================
\makeatletter
\renewcommand{\texttt}[1]{%
    \mbox{\textcolor{black!18!red}{\ttfamily#1}}%
}
\provideenvironment{Shaded}{}{}
\renewenvironment{Shaded}{\begingroup\footnotesize\begin{tcolorbox}[colback=white!96!black,colframe=black!40!white,boxrule=0.6pt,arc=2.5pt,top=4pt,bottom=4pt,left=4pt,right=4pt]}{\end{tcolorbox}\endgroup}
\makeatother
\usepackage{listings}
\usepackage{xcolor}
\definecolor{light-gray}{gray}{0.95}
\lstset{
    backgroundcolor=\color{light-gray},
    basicstyle=\ttfamily,
    breaklines=true,
    columns=fullflexible
}
